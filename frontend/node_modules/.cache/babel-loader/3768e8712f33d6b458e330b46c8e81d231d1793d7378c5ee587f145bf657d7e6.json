{"ast":null,"code":"import React,{useState}from'react';import{Box,Grid,Card,CardContent,Typography,Button,List,ListItem,ListItemText,ListItemAvatar,Avatar,Chip,LinearProgress,Alert}from'@mui/material';import{Add,Home,People,Message,TrendingUp,Star,Analytics,AttachMoney,Upgrade}from'@mui/icons-material';import{useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AgentDashboard=()=>{const navigate=useNavigate();const{user}=useAuth();const[subscriptionStatus,setSubscriptionStatus]=useState('active');// active, expiring, expired\nconst[subscriptionPlan,setSubscriptionPlan]=useState('pro');const[daysUntilExpiry,setDaysUntilExpiry]=useState(7);const[clientListings,setClientListings]=useState(15);const[activeLeads,setActiveLeads]=useState(8);const[monthlyCommission,setMonthlyCommission]=useState(12500);const[unreadMessages,setUnreadMessages]=useState(12);const StatCard=_ref=>{let{title,value,icon,color,subtitle,onClick}=_ref;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},children:/*#__PURE__*/_jsx(Card,{sx:{height:'100%',cursor:onClick?'pointer':'default'},onClick:onClick,children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:color,mr:2},children:icon}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"div\",sx:{fontWeight:'bold'},children:value}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:title}),subtitle&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:subtitle})]})]})})})});};const isSellerAgent=(user===null||user===void 0?void 0:user.user_role)==='seller_agent';return/*#__PURE__*/_jsxs(Box,{children:[subscriptionStatus==='expiring'&&/*#__PURE__*/_jsxs(Alert,{severity:\"warning\",sx:{mb:3},action:/*#__PURE__*/_jsx(Button,{color:\"inherit\",size:\"small\",onClick:()=>navigate('/subscriptions'),children:\"RENEW\"}),children:[\"Your \",subscriptionPlan,\" subscription expires in \",daysUntilExpiry,\" days. Renew now to avoid service interruption.\"]}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',mb:2},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,sx:{fontWeight:'bold'},children:[\"Welcome back, Agent \",(user===null||user===void 0?void 0:user.first_name)||(user===null||user===void 0?void 0:user.username),\"!\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:isSellerAgent?'Manage your seller clients and property listings':'Connect buyers with their perfect homes'})]}),/*#__PURE__*/_jsx(Chip,{label:\"\".concat(subscriptionPlan.toUpperCase(),\" PLAN\"),color:\"primary\",variant:\"outlined\",icon:/*#__PURE__*/_jsx(Star,{})})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,flexWrap:'wrap'},children:[isSellerAgent?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Add,{}),onClick:()=>navigate('/properties/create'),size:\"large\",children:\"List Property\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(People,{}),onClick:()=>navigate('/clients'),size:\"large\",children:\"Manage Clients\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(People,{}),onClick:()=>navigate('/leads'),size:\"large\",children:\"View Leads\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Home,{}),onClick:()=>navigate('/properties'),size:\"large\",children:\"Browse Properties\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Analytics,{}),onClick:()=>navigate('/agent-analytics'),size:\"large\",children:\"Analytics\"}),/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Message,{}),onClick:()=>navigate('/messages'),size:\"large\",children:[\"Messages (\",unreadMessages,\")\"]})]})]})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:isSellerAgent?\"Client Listings\":\"Active Leads\",value:isSellerAgent?clientListings:activeLeads,icon:isSellerAgent?/*#__PURE__*/_jsx(Home,{}):/*#__PURE__*/_jsx(People,{}),color:\"#2196f3\",subtitle:isSellerAgent?\"Properties managed\":\"Potential buyers\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Monthly Commission\",value:\"$\".concat(monthlyCommission.toLocaleString()),icon:/*#__PURE__*/_jsx(AttachMoney,{}),color:\"#4caf50\",subtitle:\"This month\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Messages\",value:unreadMessages,icon:/*#__PURE__*/_jsx(Message,{}),color:\"#ff9800\",subtitle:\"Unread\",onClick:()=>navigate('/messages')})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Client Satisfaction\",value:\"4.8/5\",icon:/*#__PURE__*/_jsx(Star,{}),color:\"#9c27b0\",subtitle:\"Average rating\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:8,children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.6,delay:0.2},children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h2\",sx:{fontWeight:'bold',mb:2},children:\"Recent Activity\"}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'success.main'},children:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"New property inquiry\",secondary:\"John Smith interested in 123 Main St, Naperville - 2 hours ago\"})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'info.main'},children:/*#__PURE__*/_jsx(Message,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Message from client\",secondary:\"Sarah Johnson asking about closing timeline - 4 hours ago\"})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'warning.main'},children:/*#__PURE__*/_jsx(TrendingUp,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Property price updated\",secondary:\"456 Oak Ave price reduced to $425,000 - 1 day ago\"})]})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",onClick:()=>navigate('/activity'),sx:{mt:2},children:\"View All Activity\"})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:4,children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:0.6,delay:0.4},children:[/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h2\",sx:{fontWeight:'bold',mb:2},children:\"Subscription Usage\"}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Featured Listings\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"3/5\"})]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:60,sx:{height:8,borderRadius:4}})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Analytics Views\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"750/1000\"})]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:75,sx:{height:8,borderRadius:4}})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Upgrade,{}),onClick:()=>navigate('/subscriptions/upgrade'),sx:{mb:1},children:\"Upgrade Plan\"}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"text\",onClick:()=>navigate('/subscriptions'),size:\"small\",children:\"Manage Subscription\"})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",component:\"h2\",sx:{fontWeight:'bold',mb:2},children:[isSellerAgent?'Seller':'Buyer',\" Agent Tips\"]}),/*#__PURE__*/_jsx(List,{dense:true,children:isSellerAgent?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Market Analysis\",secondary:\"Use neighborhood quality scores to justify pricing\"})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Professional Staging\",secondary:\"Staged homes sell 73% faster than non-staged\"})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Featured Listings\",secondary:\"Get 3x more views with featured placement\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Quick Response\",secondary:\"Respond to leads within 5 minutes for best conversion\"})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Neighborhood Insights\",secondary:\"Share Illinois quality scores with buyers\"})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Follow Up\",secondary:\"Follow up with leads within 24 hours\"})})]})}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",onClick:()=>navigate('/agent-resources'),sx:{mt:2},children:\"More Resources\"})]})})]})})]})]});};export default AgentDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}